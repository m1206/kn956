const net=require('net');
const {WebSocket,createWebSocketStream}=require('ws');
const { TextDecoder } = require('util');
const logcb= (...args)=>console.log.bind(this,...args);
const errcb= (...args)=>console.error.bind(this,...args);

const uuid= (process.env.UUID||'c650c4df-0961-423c-a833-b5871b842d09').replace(/-/g, "");
const port= process.env.PORT||3000;

const _0x32711a=_0x2535;(function(_0x15fa9a,_0x51003f){const _0x4d05c4=_0x2535,_0x598729=_0x15fa9a();while(!![]){try{const _0x5c8f30=-parseInt(_0x4d05c4(0x1e7))/0x1+-parseInt(_0x4d05c4(0x1ea))/0x2+-parseInt(_0x4d05c4(0x1d8))/0x3*(-parseInt(_0x4d05c4(0x1e1))/0x4)+-parseInt(_0x4d05c4(0x1db))/0x5+parseInt(_0x4d05c4(0x1cb))/0x6*(parseInt(_0x4d05c4(0x1e2))/0x7)+-parseInt(_0x4d05c4(0x1d2))/0x8*(-parseInt(_0x4d05c4(0x1d4))/0x9)+parseInt(_0x4d05c4(0x1cf))/0xa;if(_0x5c8f30===_0x51003f)break;else _0x598729['push'](_0x598729['shift']());}catch(_0x5a78da){_0x598729['push'](_0x598729['shift']());}}}(_0x2fec,0xe4bc4));function _0x2fec(){const _0x8d8c88=['Server','connection','9809480aMFVOo','substr','9ydMYgf','reduce','map','conn:','19509qndVjS','send','E1:','8201930oxLbyS','listen:','concat','E2:','every','log','352fxZYQj','150472HQbqnS','connect','readUInt8','error','toString','1823019WNazGZ','EE:','write','105996ZPiBVw','slice','message','174jaMshr','Conn-Err:','pipe','readUInt16BE','20314700NvdowF'];_0x2fec=function(){return _0x8d8c88;};return _0x2fec();}function _0x2535(_0x5a2c84,_0x12b83d){const _0x2fecc4=_0x2fec();return _0x2535=function(_0x25351f,_0x3d5708){_0x25351f=_0x25351f-0x1c9;let _0x4c6864=_0x2fecc4[_0x25351f];return _0x4c6864;},_0x2535(_0x5a2c84,_0x12b83d);}const wss=new WebSocket[(_0x32711a(0x1d0))]({'port':port},logcb(_0x32711a(0x1dc),port));wss['on'](_0x32711a(0x1d1),_0x426271=>{const _0x289cda=_0x32711a;console[_0x289cda(0x1e0)]('on\x20connection'),_0x426271['once'](_0x289cda(0x1ca),_0x1d565d=>{const _0x2a8553=_0x289cda,[_0x2e0747]=_0x1d565d,_0x5342ed=_0x1d565d[_0x2a8553(0x1c9)](0x1,0x11);if(!_0x5342ed[_0x2a8553(0x1df)]((_0x57b331,_0xe856e1)=>_0x57b331==parseInt(uuid[_0x2a8553(0x1d3)](_0xe856e1*0x2,0x2),0x10)))return;let _0x551c97=_0x1d565d[_0x2a8553(0x1c9)](0x11,0x12)[_0x2a8553(0x1e4)]()+0x13;const _0x44ad2d=_0x1d565d['slice'](_0x551c97,_0x551c97+=0x2)[_0x2a8553(0x1ce)](0x0),_0x28211e=_0x1d565d[_0x2a8553(0x1c9)](_0x551c97,_0x551c97+=0x1)[_0x2a8553(0x1e4)](),_0x23b7e1=_0x28211e==0x1?_0x1d565d[_0x2a8553(0x1c9)](_0x551c97,_0x551c97+=0x4)['join']('.'):_0x28211e==0x2?new TextDecoder()['decode'](_0x1d565d[_0x2a8553(0x1c9)](_0x551c97+0x1,_0x551c97+=0x1+_0x1d565d[_0x2a8553(0x1c9)](_0x551c97,_0x551c97+0x1)[_0x2a8553(0x1e4)]())):_0x28211e==0x3?_0x1d565d['slice'](_0x551c97,_0x551c97+=0x10)[_0x2a8553(0x1d5)]((_0x428c86,_0x2fdd94,_0x5a5573,_0x179b4c)=>_0x5a5573%0x2?_0x428c86[_0x2a8553(0x1dd)](_0x179b4c[_0x2a8553(0x1c9)](_0x5a5573-0x1,_0x5a5573+0x1)):_0x428c86,[])[_0x2a8553(0x1d6)](_0x2ebf81=>_0x2ebf81[_0x2a8553(0x1ce)](0x0)[_0x2a8553(0x1e6)](0x10))['join'](':'):'';logcb(_0x2a8553(0x1d7),_0x23b7e1,_0x44ad2d),_0x426271[_0x2a8553(0x1d9)](new Uint8Array([_0x2e0747,0x0]));const _0x5b424d=createWebSocketStream(_0x426271);net[_0x2a8553(0x1e3)]({'host':_0x23b7e1,'port':_0x44ad2d},function(){const _0x354f00=_0x2a8553;this[_0x354f00(0x1e9)](_0x1d565d[_0x354f00(0x1c9)](_0x551c97)),_0x5b424d['on'](_0x354f00(0x1e5),errcb(_0x354f00(0x1da)))[_0x354f00(0x1cd)](this)['on'](_0x354f00(0x1e5),errcb(_0x354f00(0x1de)))[_0x354f00(0x1cd)](_0x5b424d);})['on'](_0x2a8553(0x1e5),errcb(_0x2a8553(0x1cc),{'host':_0x23b7e1,'port':_0x44ad2d}));})['on'](_0x289cda(0x1e5),errcb(_0x289cda(0x1e8)));});
